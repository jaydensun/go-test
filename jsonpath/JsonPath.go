package main

import (
	"encoding/json"
	"fmt"
	// 0. 安装该依赖
	// go get github.com/oliveagle/jsonpath
	"github.com/oliveagle/jsonpath"
)

func main() {
	dataStr := `{"traceId":"2f16083895cafcc1","code":0,"msg":"成功","data":{"total":16,"list":[{"userName":"pciAJ2021","phone":"15920934102","enterpriseName":"佳都科技集团股份有限公司","userAuthEnterpriseId":267,"contactsPhone":"15920934102","contactsEmail":"huangwuxiong@pcitech.com","contactsName":"黄武雄","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33287,"bankCheckMoney":0.04},{"userName":"jiangnan","phone":"18588457026","enterpriseName":"MIMIMIMI","userAuthEnterpriseId":265,"contactsPhone":"18588457026","contactsEmail":"524383260@qq.com","contactsName":"北京支行","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33251,"bankCheckMoney":0.89},{"userName":"welink_admin","phone":"15986719609","enterpriseName":"腾讯科技（深圳）有限公司","userAuthEnterpriseId":263,"contactsPhone":"15986719609","contactsEmail":"379352539@qq.com","contactsName":"陈勇","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33242,"bankCheckMoney":0.21},{"userName":"v_vlxyli","phone":"15728875100","enterpriseName":"腾讯科技有限公司","userAuthEnterpriseId":258,"contactsPhone":"13800138000","contactsEmail":"v_vlxyli@tencent.com","contactsName":"李白","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33200,"bankCheckMoney":0.75},{"userName":"zhuji_znyw","phone":"15274338083","enterpriseName":"中车株洲电力机车有限公司","userAuthEnterpriseId":252,"contactsPhone":"15274128796","contactsEmail":"973367283@qq.com","contactsName":"车辆智能运维项目组","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33154,"bankCheckMoney":0.29},{"userName":"GuangRi_PRT","phone":"19924284329","enterpriseName":"江苏普瑞尔特控制工程有限公司","userAuthEnterpriseId":262,"contactsPhone":"13914286586","contactsEmail":"jyprt08@163.com","contactsName":"盛军","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33230,"bankCheckMoney":0.37},{"userName":"hitachi","phone":"13610092628","enterpriseName":"日立电梯（中国）有限公司","userAuthEnterpriseId":261,"contactsPhone":"13610092628","contactsEmail":"443803202@qq.com","contactsName":"李东伟","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33218,"bankCheckMoney":0.06},{"userName":"BYDQPHM","phone":"13750050173","enterpriseName":"广州白云电器设备股份有限公司","userAuthEnterpriseId":260,"contactsPhone":"13750050173","contactsEmail":"418719855@qq.com","contactsName":"林旭槟","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33216,"bankCheckMoney":0.03},{"userName":"grgbanking","phone":"13822252456","enterpriseName":"广州广电运通智能科技有限公司","userAuthEnterpriseId":259,"contactsPhone":"13822252456","contactsEmail":"lbin26@grgbanking.com","contactsName":"吕斌","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33209,"bankCheckMoney":0.04},{"userName":"gzrsic","phone":"13660138574","enterpriseName":"广州铁科智控有限公司","userAuthEnterpriseId":256,"contactsPhone":"13660138574","contactsEmail":"zouhemin@gzrsic.com","contactsName":"邹鹤敏","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33184,"bankCheckMoney":0.89},{"userName":"BMliuhuaju","phone":"18933945820","enterpriseName":"北明软件有限公司","userAuthEnterpriseId":253,"contactsPhone":"18933945820","contactsEmail":"254065374@qq.com","contactsName":"刘华举","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33168,"bankCheckMoney":0.17},{"userName":"zrcc_zhuji","phone":"15274338083","enterpriseName":"广州项目一二三","userAuthEnterpriseId":251,"contactsPhone":"13787900768","contactsEmail":"87654321@qq.com","contactsName":"张三","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33153,"bankCheckMoney":0.68},{"userName":"zhanganzhong","phone":"18810256028","enterpriseName":"北京交通大学","userAuthEnterpriseId":250,"contactsPhone":"18810256028","contactsEmail":"17251288@bjtu.edu.cn","contactsName":"张安忠","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33142,"bankCheckMoney":0.19},{"userName":"gzmetro","phone":"18688442061","enterpriseName":"穗腾联合实验室","userAuthEnterpriseId":249,"contactsPhone":"18688442061","contactsEmail":"fangte@gzmtr.com","contactsName":"方特","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33105,"bankCheckMoney":0.18},{"userName":"QT_ISCS2013","phone":"13680364836","enterpriseName":"上海期安智能科技有限公司","userAuthEnterpriseId":248,"contactsPhone":"13680364836","contactsEmail":"1655489510@qq.com","contactsName":"廖才魁","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33102,"bankCheckMoney":0.06},{"userName":"DTzhangsenkai","phone":"17600146477","enterpriseName":"上海德拓信息技术股份有限公司","userAuthEnterpriseId":246,"contactsPhone":"17600146477","contactsEmail":"zhang.senkai@datatom.com","contactsName":"张森凯","bisinessLicenseStatus":"通过","bankMoneyStatusDesc":"通过","bankMoneyStatus":1,"userId":33100,"bankCheckMoney":0.9}],"pageNum":1,"pageSize":20,"size":16,"startRow":1,"endRow":16,"pages":1,"prePage":0,"nextPage":0,"isFirstPage":true,"isLastPage":true,"hasPreviousPage":false,"hasNextPage":false,"navigatePages":8,"navigatepageNums":[1],"navigateFirstPage":1,"navigateLastPage":1},"success":true,"notSuccess":false}`

	var json_data interface{}
	_ = json.Unmarshal([]byte(dataStr), &json_data)

	res, err := jsonpath.JsonPathLookup(json_data, "$.data.list.enterpriseName")
	if err == nil {
		fmt.Println("step 3 res: $.traceId")
		fmt.Println(res)
	} else {
		fmt.Printf("dddd: %v ", err)
	}
}
